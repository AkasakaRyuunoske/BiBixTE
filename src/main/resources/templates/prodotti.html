<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Thymeleaf dependency -->
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org">
<head> 
	<title>BiBixTE</title>

	<!-- CSS imports -->

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css" integrity="sha512-NmLkDIU1C/C88wi324HBc+S2kLhi08PN5GDeUVVVC/BVt/9Izdsc9SVeVfA1UZbY3sHUlDSyRXhCzHfr6hmPPw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="style.css"> 
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;400;700;900&display=swap" rel="stylesheet">

</head>
<body>
	<!-- Standart menu -->
	<div class = "header">
		<div class = "logo"></div>
			<img src="bibixte.png" alt="errore">
			<ul class = "menu">
				<li>
					<a href="/">Home</a>
				</li>
				<li>
					<a href="/prodotti">Products</a>
				</li>
				<li>
					<a href="/crediti">Contact</a>
				</li>
			</ul>
		<br>

		<!-- Display user's count-->

		<h3 class = "normal-text" th:text="*{conto}"></h3>

		<!-- Display username -->
		<!-- logout if presed -->

		<div class = "ct">
			<li><a href="/logout" class="button" th:text="*{userName}"></a></li>
		</div>
	</div>	

	<div class = "product" id = "product">
		<div class = "product-content" style="margin-bottom:-100px">
			<div class="grid-container"> 

				<!-- Pepsi element -->

				<div class="grid-item">
					<div class = "product-container" id = "p1">
						<div class = "product-top">
							<div>
								<img src = "pepsi.png" class = "product-img">
							</div>

							<div class = "product-details">

								<!-- Product info-->

								<p class = "small-text" style = "color: #fff;">Pepsi: 30cl.</p>
								<h4 class = "normal-text">2,5€</h4>

								<!-- "buy part" in js -->

								<button type="button" id="button_increment_pepsi">+</button>
								<output id="output_pepsi">0</output>
								<button type="button" id="button_decrement_pepsi">-</button>
							</div>
							<button id="acquista_pepsi">Acquista</button>
						</div>
					</div>
				</div>

				<!-- Monster element -->

				<div class="grid-item">
					<div class = "product-container" id = "p2">
						<div class = "product-top">
							<img src = "monster.jpg" class = "product-img">
						</div>

						<div class = "product- details">

							<p class = "small-text" style = "color: #fff;">Monster: 50cl.</p>
							<h4 class = "normal-text">5€</h4>

							<button type="button" id="button_increment_monster">+</button>
							<output id="output_monster">0</output>
							<button type="button" id="button_decrement_monster">-</button>

						</div>

						<button id="acquista_monster">Acquista</button>
					</div>
				</div>

				<!-- Sprite element -->

				<div class="grid-item">
					<div class = "product-container" id = "p3">
						<div class = "product-top">
							<img src = "sprite.jpg" class = "product-img">
						</div>

						<div class = "product- details">
							<p class = "small-text" style = "color: #fff;">Sprite: 33cl.</p>
							<h4 class = "normal-text">2,5€</h4>

							<button type="button" id="button_increment_sprite">+</button>
							<output id="output_sprite">0</output>
							<button type="button" id="button_decrement_sprite">-</button>
						</div>
						<button id="acquista_sprite">Acquista</button>
					</div>
				</div>  

				<!-- Fanta element -->

				<div class="grid-item">
					<div class = "product-container" id = "p4">
						<div class = "product-top">
							<img src = "fanta.jpg" class = "product-img">
						</div>

						<div class = "product- details">
							<p class = "small-text" style = "color: #fff;">Fanta: 30cl.</p>
							<h4 class = "normal-text">2€</h4>

							<button type="button" id="button_increment_fanta">+</button>
							<output id="output_fanta">0</output>
							<button type="button" id="button_decrement_fanta">-</button>
						</div>
						<button id="acquista_fanta">Acquista</button>
					</div>  
				</div>
			</div>
		</div>
	</div>

	<footer>
		<div class= "footer-content">
			<p class = "normal-text" style =" color :#fff ;">Discover more about </p>
			<p class = "normal-text" style =" color :#fff ;"> The brands you're buying </p>

			<br>

			<!-- Linked all brands used above -->

			<ul class= "links">
				<li>
					<a href = "https://pepsimax.it/">
						<p class = "normal-text">- Pepsi.</p>
					</a>
				</li>
				<li>
					<a href = "https://www.monsterenergy.com/it/it/products/monster-energy">
						<p class = "normal-text">- Monster.</p>
					</a>
				</li>

				<li>
					<a href = "https://www.sprite.com/">
						<p  class = "normal-text">- Sprite.</p>
					</a>
				</li>

				<li>
					<a href = "https://www.coca-colaitalia.it/brands/fanta">
						<p  class = "normal-text">- Fanta.</p>
					</a>
				</li>
			</ul>
			
			<br>

		</div>
	</footer>
</body>

<script type="text/javascript">
	// cost of every product
COSTO_PEPSI = 2.5;
COSTO_MONSTER = 5.0;
COSTO_SPRITE = 2.5;
COSTO_FANTA = 2.0;

	// prefix of url https://bibixte.herokuapp.com/
PREFIX = "http://localhost:8080/";


function increment_pepsi_counter() {
    counter_pepsi = parseInt(output_pepsi.innerHTML);
    counter_pepsi++;
    output_pepsi.innerHTML = counter_pepsi; 
  }

   function decrement_pepsi_counter() {
    counter_pepsi--;
    output_pepsi.innerText = counter_pepsi;
  }


// Pepsi element 
var output_pepsi  = document.getElementById("output_pepsi");
var counter_pepsi = 0;
var button_increment_pepsi  = document.getElementById("button_increment_pepsi");
var button_decrement_pepsi  = document.getElementById("button_decrement_pepsi");

button_increment_pepsi.onclick = increment_pepsi_counter;
button_decrement_pepsi.onclick = decrement_pepsi_counter;
//


function increment_monster_counter() {
    counter_monster = parseInt(output_monster.innerHTML);
    counter_monster++;
    output_monster.innerHTML = counter_monster; 
  }

   function decrement_monster_counter() {
    counter_monster--;
    output_monster.innerText = counter_monster;
  }

// Monster element 
var output_monster  = document.getElementById("output_monster");
var counter_monster = 0;
var button_increment_monster  = document.getElementById("button_increment_monster");
var button_decrement_monster  = document.getElementById("button_decrement_monster");

button_increment_monster.onclick = increment_monster_counter;
button_decrement_monster.onclick = decrement_monster_counter;
//

function increment_sprite_counter() {
    counter_sprite = parseInt(output_sprite.innerHTML);
    counter_sprite++;
    output_sprite.innerHTML = counter_sprite; 
  }

   function decrement_sprite_counter() {
    counter_sprite--;
    output_sprite.innerText = counter_sprite;
  }

// Sprite element 
var output_sprite  = document.getElementById("output_sprite");
var counter_sprite = 0;
var button_increment_sprite  = document.getElementById("button_increment_sprite");
var button_decrement_sprite  = document.getElementById("button_decrement_sprite");

button_increment_sprite.onclick = increment_sprite_counter;
button_decrement_sprite.onclick = decrement_sprite_counter;
//

function increment_fanta_counter() {
    counter_fanta = parseInt(output_fanta.innerHTML);
    counter_fanta++;
    output_fanta.innerHTML = counter_fanta; 
  }

   function decrement_fanta_counter() {
    counter_fanta--;
    output_fanta.innerText = counter_fanta;
  }


// Fanta element 
var output_fanta  = document.getElementById("output_fanta");
var counter_fanta = 0;
var button_increment_fanta  = document.getElementById("button_increment_fanta");
var button_decrement_fanta  = document.getElementById("button_decrement_fanta");

button_increment_fanta.onclick = increment_fanta_counter;
button_decrement_fanta.onclick = decrement_fanta_counter;
//

document.getElementById("acquista_pepsi").onclick = function () {
	if (counter_pepsi < 0) {

		alert("Non puoi acquistare " + counter_pepsi + " pepsi!");

	} else {

		window.location.href = 
		PREFIX + "acquista/pepsi/" 
		+ COSTO_PEPSI * counter_pepsi 
		+ "/" 
		+ counter_pepsi;
	}
}

document.getElementById("acquista_monster").onclick = function () {
	if (counter_monster < 0) {

		alert("Non puoi acquistare " + counter_monster + " monster!");

	} else {

	window.location.href = 
	PREFIX + "acquista/monster/" 
	+ COSTO_MONSTER * counter_monster
	+ "/" 
	+ counter_monster;

	}
}

document.getElementById("acquista_sprite").onclick = function () {
	if (counter_sprite < 0) {

		alert("Non puoi acquistare " + counter_sprite + " sprite!");

	} else {

	window.location.href = 
	PREFIX + "acquista/sprite/" 
	+ COSTO_SPRITE * counter_sprite 
	+ "/" 
	+ counter_sprite;

	}
}

document.getElementById("acquista_fanta").onclick = function () {
	if (counter_fanta < 0) {

		alert("Non puoi acquistare " + counter_fanta + " fanta!");

	} else {

	window.location.href = 
	PREFIX + "acquista/fanta/" 
	+ COSTO_FANTA * counter_fanta 
	+ "/" 
	+ counter_fanta;

	}
}
</script>
</html>